# 变量声明

## var 声明

不要用了。

## let 声明

语法：`let hello = "hello"`

### 块作用域

1. 变量只能在同一个块作用域内看到
1. 变量未声明之前不能使用

### 重定义及变量屏蔽

1. 同一个块作用域内不能有重复定义的同名变量
1. 嵌套作用域时内部作用域的变量会屏蔽上级作用域的同名变量

### 块作用域变量捕获

1. 每次进入块作用域时，都会新创建一个变量环境，即使作用域内代码已经执行完毕，这个变量环境仍然存在（其包含的变量不会消失）
1. 基于第1条描述，块作用域外引用块作用内的变量时，不会出错。只有所有引用都没有之后，变量环境才会被回收。
1. let出现在循环体中时，每次迭代都会创建一个新作用域，这样即使本次循环结束后异步访问当时通过let声明的变量也能取到当时的值，但如果是var就会出现只能取到最后一次的值。

    ```ts
    for (let i = 0; i < 3; ++i) {
        var j = i * 10                      //j使用的var声明，就只能输出最后的值。如果改成let声明，那么每次就是i的10倍了。
        setTimeout(function () {            //在异步函数中调用，此时已经离开for的块作用域。
            console.log(`i:${i} j:${j}`)
        }, 100);
    }
    ```

    ```sh
    i:0 j:20
    i:1 j:20
    i:2 j:20
    ```

PS：这儿就是和C语言根本上的不同。在C语言中，局部变量分配在栈内存上，当作用域内代码执行完毕，所占用的栈内存也就释放了。

## const 声明

1. 拥有和let相同的作用域规则
1. 被赋值之后不能改变。但是如果指向的是对象，对象内部成员的值还是可以修改的，只是这个变量仍然只能指向这个对象。

## 解构

### 解构数组

### 解构对象

#### 属性重命名

#### 属性默认值

### 在函数声明中使用解构

### 展开